---
description: 現在の変更を適切にコミットしてプッシュします
---

# commit-push

現在の変更を適切にコミットしてプッシュします。

## 手順

1. 変更内容の確認 (`git status`, `git diff`)
2. 今回の作業に関連するファイルのみを選択的にステージング
   - `git add [specific-files]` を使用
   - **`git add .` や `git add -A` は使用しない**
3. ステージングした内容の確認 (`git diff --cached`)
4. 最近のコミットメッセージを確認 (`git log --oneline -5`)
5. gitmoji付きのコミットメッセージを作成して**ユーザーに提示**
6. コミット実行
7. コミット結果を見やすく表示
8. リモートリポジトリへプッシュ

## コミットメッセージ形式

```
:emoji: 日本語の要約（1行、50文字以内推奨）

- 変更内容の詳細1
- 変更内容の詳細2
- 変更内容の詳細3（必要に応じて）
```

### gitmoji一覧

- `:sparkles:` 新機能
- `:bug:` バグ修正
- `:recycle:` リファクタリング
- `:memo:` ドキュメント更新
- `:art:` コードフォーマット
- `:white_check_mark:` テスト追加
- `:wrench:` 設定変更
- `:fire:` ファイル削除
- `:arrow_up:` 依存関係のアップグレード
- `:arrow_down:` 依存関係のダウングレード
- `:tada:` 初期コミット
- `:construction:` 作業中（WIP）

## コミットメッセージのガイドライン

- **必ずgitmojiから開始**
- 日本語で記述
- 1行目: 変更内容を簡潔に要約（50文字以内推奨）
- 2行目: 空行
- 3行目以降: 変更内容の詳細を箇条書きや適切な形式で記述
- **1コミット = 1つの論理的な変更**とする
  - 後から巻き戻し（revert）しやすい単位
  - レビューや履歴確認時に理解しやすい単位
  - 関連性のない変更は必ず別々のコミットに分ける

## 出力形式

コミット実行後は以下の形式で結果を表示：

```
📝 コミットメッセージ:
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
✨ カスタムコマンド機能を追加

- `/commit-push` コマンドを新規作成
- claude/README.mdにカスタムコマンドの詳細な説明を追加
- setup.shにカスタムコマンドのセットアップ処理を追加
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

✅ コミット完了: a7f407b
📤 プッシュ完了: master -> origin/master
```

## 注意事項

- **秘密情報を含むファイルは絶対にコミットしない**
- `.env`、SSH秘密鍵、トークン等は除外されているか確認
- 不要なファイルが含まれていないか `git status` で必ず確認
- コミット前にテストが通ることを確認（該当する場合）
